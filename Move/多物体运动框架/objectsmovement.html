<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>多物体同时运动</title>
		<style>
			div{
				width: 100px;
				height: 100px;
				background: green;
				margin-bottom: 20px;
			}
		</style>
		<script>
			window.onload = function(){
				var aDiv = document.getElementsByTagName('div');
				
				for(var i=0;i<aDiv.length;i++){
					aDiv[i].onmouseover = function(){
						startMove(this,300);
					}
					
					aDiv[i].onmouseout = function(){
						startMove(this,100);
					}
				}
				
			}
			var timer =null;//共用定时器会有问题
			function startMove(object,target){
				/*var oDiv = document.getElementById('div1');*///不需要这一行代码了
				clearInterval(timer);
				timer = setInterval(function(){
					var speed = (target - object.offsetWidth)/8;
					if(speed > 0){
						speed = Math.ceil(speed);
					}else{
						speed = Math.floor(speed);
					}
					
					if(object.offsetWidth == target){
						clearInterval(timer);
					}else{
						object.style.width = object.offsetWidth + speed + 'px';
					}
				},30)
			}
		</script>
	</head>
	<body>
		<div id="div1"></div>
		<div id="div2"></div>
		<div id="div3"></div>
	</body>
</html>
